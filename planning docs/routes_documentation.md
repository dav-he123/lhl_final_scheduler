# ATTN DEVS:
database routes, their expected request, and their response are outlined here.
*Please refer to this document whenever you make an axios server request!*
<3 tanks! xo -vierge

---


## DATABASE ALWAYS ACCEPTS AND RETURNS JSON. EXAMPLES:

  ```json
    { 
      "users" : [
        {  "id":"serial", "name":"string", "password":"string", "email":"string", "phone_number":"string", "avatar":"url", "created_at":"timestamp", "updated_at":"timestamp"  }
      ],
      "groups": [
        {"id":"serial", "name":"string", "description":"text", "created_at":"timestamp", "updated_at":"timestamp"} 
        ],
      "events": [
        {"id":"serial", "name":"string", "description":"text", "location":"coordinates?", "start_time":"datetime", "end_time":"datetime", "photo":"url", "group_id":"reference"}
        ],
      "memberships": [
        {"id":"serial", "user_id":"reference", "group_id":"reference", "admin":"boolean"}
      ],
      "reservations": [
        {"id":"serial", "user_id":"reference", "event_id":"reference", "creator":"boolean", "going":"boolean"}
      ],
    }
  ```

### please include `headers: { content-type: "application/json" }` in all **POST**, **PUT**, and **PATCH** requests.

## GETs

- `api#index @ / (root)`
  - Returns a json of the entire database
- __USERS__ 
  - `users#index @ /api/users`
    - Returns an array of all users
  - `users#show @ /api/users/:id`
    - Returns a single user object
- __EVENTS__
  - `events#index @ /api/gropus/:group_id/events`
    - Returns an array of events and array of reservations associated with  `:group_id`
  - `events#show @ /api/events/:id`
    - Returns an event + all reservations containing `:event_id`
- __GROUPS__
  - `groups#index @ /api/groups`
    - Returns array of all groups + array of all memberships
  - `groups#show @ /api/groups/:id`
    - Returns a group + array of memberships containing `:id`

## POSTs
note: IDs are auto generated by rails

- `users#create @ /api/users`
  - Accepts a new user object 
  - Returns the ID of the new user
- `events#create @ /api/groups/:group_id/events`
  - Accepts a new event associated with `:group_id`
  - Returns the ID of the event
- `groups#create @ /api/groups`
  - Accepts a new group
  - Returns the ID of the group

## PUTs
- `users#update @ /api/users/:id`
  - Accepts a `user_id` and `group_id`
  - Returns a membership
- `events#update @ /api/events/:id`
  - Accepts `user_id` and `event_id`
  - Returns a reservation
- `groups#update @ /api/events/:id`
  - Accepts a `user_id` and `event_id`
  - if the `user_id` matches the `owner_id`, Returns an updated group
    - (im not sure of the use case here yet)

## PATCHes

- `users#update @ api/users/:id`
  - Accepts a user object and a `user_id`
  - If `user_id` is valid, returns an updated user object
- `events#update @ api/events/:id`
  - Accepts an event object and a `user_id`
  - If `user_id` is valid, returns an updated event object
- `groups#update @ api/groups/:id`
  - Accepts a group object and a `user_id`
  - If `user_id` is valid, returns an updated group object

## DELETEs

- `users#destroy @ api/users/:id`
  - Accepts a `user_id` and a `password`
  - if args are valid,  deletes user and returns a status code
- `events#destroy @ api/events/:id`
  - Accepts a `user_id`, `event_id` and `password`
  - if args are valid, deletes event and returns status code
- `groups#destroy @ api/groups/:id`
  - Accepts a `user_id`, `group_id` and `password`
  - if args are valid, deletes group and returns status code
